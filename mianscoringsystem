using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using TMPro;
public class scoreinsystem : MonoBehaviour
{
    [SerializeField] TextMeshProUGUI scoreText;
    public float score;
    public int scoretime;
    public GameObject newhighscoretext;
    [SerializeField] TextMeshProUGUI highscoretext;
    private void Start()
    {
        newhighscoretext.SetActive(false);
        updatehighscoretext();
        score = 0;
    }
    // Update is called once per frame
    void Update()
    {
        if (Input.GetKeyDown(KeyCode.R))
        {
            Debug.Log("player has reset movement");
            score = score - score;
            score = 0;
            scoreText.text = "0";
            Debug.Log(score);
        }
        //     score = (int)Time.time;
        score += Time.deltaTime;
        scoreText.text = score.ToString();
        Debug.Log(score);
        checkhighscore();
    }
    void checkhighscore()
    {
        newhighscoretext.SetActive(false);
        if (score > PlayerPrefs.GetFloat("HighScore",0))
        {
            newhighscoretext.SetActive(true);
            updatehighscoretext();
            PlayerPrefs.SetFloat("HighScore",score);
        }

    }
    void updatehighscoretext()
    {
        highscoretext.text = $"HighScore: {PlayerPrefs.GetFloat("HighScore", 0)}";
    }
}
